define("select/1.0.0/select",["./selectSkin.css"],function(a,b,c){function d(a){this.config=a||{},this.defaultWidth=this.config.width||200,this.defaultText=this.config.defaultText||"",this.size=this.config.size||10,this.itemHeight=this.config.itemHeight||30,this.optionHeight=this.config.optionHeight||null,this.scrollBarWidth=17,this.isOverFlow=!1,this.timer=null,this.onSelect=this.config.onSelect||null,this.items=[],this.attrs=a.attrs||[],this.tipAttr=a.tipAttr||"",this.currentItem=null,this.tmpCurrentItem=null,this.borderWidth=this.config.borderWidth||1,this.isDisabled=this.config.disabled||!1,this.disabledClass=this.config.disabledClass?" "+this.config.disabledClass:"",this.DOMClass="ui-select"+(this.config.skin?" "+this.config.skin:"")+(this.isDisabled?this.disabledClass:"");var b=this;if(this.$=function(a,b){return a="string"==typeof a?document.getElementById(a):a,b?a.getElementsByTagName(b):a},this.stopEvent=function(a){a=window.event||a,a.stopPropagation?(a.stopPropagation(),a.preventDefault()):(a.cancelBubble=!0,a.returnValue=!1)},this.getDOM=function(a,b){var c=document.createElement(a);if(b&&"object"==typeof b)for(var d in b)if("classname"==d.toLowerCase())c.className=b[d];else if("text"==d.toLowerCase())c.innerHTML=b[d];else if("attrs"==d.toLowerCase())for(var e in b[d])c.setAttribute(e,b[d][e]);else c.setAttribute(d,b[d]);return c},this.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},this.setTimer=function(){this.timer=setTimeout(function(){b.toggle("none","ui-select-value"),b.clearValueEvent()},this.config.delay_time||500)},this.clearValueEvent=function(){this.value.onmouseout&&(this.value.onmouseout=null),this.value.onmouseover&&(this.value.onmouseover=null)},this.toggle=function(a,c){this.userList?this.userList.style.display=a:this.list.style.display=a,this.iframe.style.display=a,this.value.className=c,b.currentItem.className=-1!==b.currentItem.className.indexOf("ui-select-item-spliter")?"ui-select-item-spliter ui-select-item-current":"ui-select-item-current",b.tmpCurrentItem&&b.currentItem!==b.tmpCurrentItem&&(b.tmpCurrentItem.className=-1!==b.tmpCurrentItem.className.indexOf("ui-select-item-spliter")?"ui-select-item-spliter":""),b.tmpCurrentItem=null},this.setCurrent=function(a){if(b.currentItem&&b.currentItem!==a&&(b.currentItem.removeAttribute("is_current"),b.currentItem.className=-1!==b.currentItem.className.indexOf("ui-select-item-spliter")?"ui-select-item-spliter":""),"object"==typeof a)b.currentItem=a;else if("number"==typeof a)b.currentItem=this.items[Math.max(0,Math.min(this.items.length-1,a))];else if("string"==typeof a)for(var c=0;c<this.items.length;c++)if(this.items[c].getAttribute("val")==a){b.currentItem=this.items[c];break}if(b.currentItem.setAttribute("is_current","true"),b.currentItem.className=-1!==b.currentItem.className.indexOf("ui-select-item-spliter")?"ui-select-item-spliter ui-select-item-current":"ui-select-item-current",b.value.innerHTML=b.currentItem.innerHTML,b.tipAttr){var d=b.currentItem.getAttribute(b.tipAttr);d?b.value.setAttribute("title",d):b.value.removeAttribute("title")}for(var e in this.items)b.currentItem==this.items[e]&&(this.select.options.selectedIndex=e,b.onSelect&&b.onSelect.call(b))},this.setLabel=function(a){this.value.innerHTML=this.processValue?this.processValue(a):a},this.add=function(a,c){var d=this.getDOM("li",a),e=this.isOverFlow?(this.config.width||this.defaultWidth)-12-2*this.borderWidth-this.scrollBarWidth:(this.config.width||this.defaultWidth)-12-2*this.borderWidth;if(d.style.width=e+"px",d.style.height=this.itemHeight+"px",d.style.lineHeight=this.itemHeight+"px",this.items.push(d),this.list.appendChild(d),d.onmouseover=function(){b.clearTimer(),b.currentItem.className=-1!==b.currentItem.className.indexOf("ui-select-item-spliter")?"ui-select-item-spliter":"",b.tmpCurrentItem&&(b.tmpCurrentItem.className=-1!==b.tmpCurrentItem.className.indexOf("ui-select-item-spliter")?"ui-select-item-spliter":""),b.tmpCurrentItem=this,this.className=-1!==this.className.indexOf("ui-select-item-spliter")?"ui-select-item-spliter ui-select-item-current":"ui-select-item-current"},d.onmouseout=function(){b.setTimer()},d.onclick=function(a){b.clearTimer(),b.toggle("none","ui-select-value"),b.clearValueEvent(),b.stopEvent(a),b.currentItem?b.currentItem!==this&&(b.setCurrent(this),b.onChange&&b.onChange.call(b)):(b.setCurrent(this),b.onChange&&b.onChange.call(b)),document.onclick=null},c){var f=new Option(a.text,a.val);if(a.attrs)for(var g in a.attrs)f.setAttribute(g,a.attrs[g]);this.select.appendChild(f)}},this.empty=function(){for(;this.items.length;){var a=this.items.splice(0,1);a.onmouseover=a.onmouseout=a.onclick=null,this.list.removeChild(this.list.firstChild)}for(;this.select.firstChild;)this.select.removeChild(this.select.firstChild);this.setLabel(this.defaultText),this.isOverFlow=!1},this.getValue=function(){return this.currentItem?this.currentItem.getAttribute("val"):null},this.getTipAttribute=function(a){return this.tipAttr?a.getAttribute(this.tipAttr):null},this.autoSize=function(a){a.length&&a.length>this.size?this.isOverFlow=!0:(this.isOverFlow=!1,this.list.style.height="auto")},this.prepare=function(a){var b=a.options,c=this.attrs.length;b.length>this.size&&(this.isOverFlow=!0,this.list.style.height=(this.optionHeight?this.optionHeight:(this.itemHeight+1)*this.size)+"px",this.list.style.overflow="auto");for(var d=0,e=b.length;e>d;d++){var f={val:b[d].value,text:b[d].text,className:d%2===1?"ui-select-item-spliter":""};if(c){for(var g,h={},i=0;c>i;i++){var j=b[d].getAttribute(this.attrs[i]);j&&(h[this.attrs[i]]=j)}g=this.getTipAttribute(b[d]),g&&(h.title=g),f.attrs=h}this.add(f),b[d].selected&&this.setCurrent(this.items[d])}null!=this.config.defaultValue&&this.setCurrent(this.config.defaultValue)},this.apply=function(a){return"string"==typeof a&&(a=this.$(a)),this.select=a,this.prepare(this.select),this.select.parentNode.insertBefore(this.dom,this.select),this.select.style.display="none",this},this.enabled=function(){this.isDisabled=!1,this.dom.className=this.dom.className.replace(new RegExp(this.disabledClass,"ig"),"")},this.disabled=function(){this.isDisabled=!0,this.dom.className=this.DOMClass},this.addUserList=function(a){a&&1==a.nodeType&&(this.userList=a),this.userList&&this.dom.appendChild(this.userList)},this.removeUserList=function(){this.userList&&this.dom.removeChild(this.userList)},this.hide=function(){this.toggle("none","ui-select-value"),this.clearTimer()},this.dom=this.getDOM("div",{className:this.DOMClass}),this.iframe=this.getDOM("iframe",{src:"javascript:''",frameBorder:"0",scrolling:"no",className:"ui-select-iframe"}),this.dom.style.zIndex=this.config.zIndex||1,this.value=this.getDOM("div",{className:"ui-select-value",text:this.defaultText}),this.list=this.getDOM("ul",{className:"ui-select-cnt fn-clear"}),this.dom.style.width=this.value.style.width=this.list.style.width=(this.config.width||this.defaultWidth)-2*this.borderWidth+"px",this.iframe.style.width=parseInt(this.dom.style.width)+2+"px",this.list.style.left=-1*this.borderWidth+"px",this.config.height){var c=this.config.height;this.dom.style.height=this.dom.style.lineHeight=this.value.style.height=this.value.style.lineHeight=c+"px",this.list.style.top=this.config.overlay?c+"px":c+this.borderWidth+"px"}if(this.dom.onmouseover=function(){b.clearTimer(),b.mouseover&&b.mouseover.call(this)},this.dom.onmouseout=function(a){for(var a=window.event||a,c=a.relatedTarget||a.toElement;c&&c!==this;)c=c.parentNode,c||(b.clearTimer(),b.setTimer(),b.mouseout&&b.mouseout.call(this))},this.value.onclick=function(a){if(b.clearTimer(),b.stopEvent(a),!b.isDisabled){var c=b.list;b.userList?(c=b.userList,b.userList.style.display="block"==b.userList.style.display?"none":"block"):b.list.style.display="block"==b.list.style.display?"none":"block","block"==c.style.display?(b.iframe.style.height=c.offsetHeight+"px",b.iframe.style.display="block"):b.iframe.style.display="none",document.onclick=function(){b.hide()},d.current&&d.current!==b&&(d.current.toggle("none","ui-select-value"),d.current.clearTimer()),d.current=b,b.onShow&&b.onShow.call(b)}},this.dom.appendChild(this.value),this.config.hideList&&this.config.hideList===!0);else{var e=this.list;this.config.useLayer?(this.userList=this.config.list&&1==this.config.list.nodeType?this.config.list:null,this.userList&&(e=this.userList,this.addUserList())):this.dom.appendChild(this.list),this.dom.insertBefore(this.iframe,e)}}a("./selectSkin.css");d.prototype.destroy=function(){this.empty(),this.clearValueEvent(),this.dom.onmouseover=this.dom.onmouseout=null,this.dom.parentNode.removeChild(this.iframe),this.dom.parentNode.removeChild(this.dom)},c.exports=d});